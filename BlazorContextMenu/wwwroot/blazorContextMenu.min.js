"use strict";var blazorContextMenu=function(f){var h=null;h=window.Element&&!Element.prototype.closest?function(e,t){var n,o=(e.document||e.ownerDocument).querySelectorAll(t);do{for(n=o.length;0<=--n&&o.item(n)!==e;);}while(n<0&&(e=e.parentElement));return e}:function(e,t){return e.closest(t)};var m=[];function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var u=null;f.SetMenuHandlerReference=function(e){u||(u=e)};var r=function(e,t,n){var o=a();m.push({id:t,target:n,instanceId:o}),e.dataset.instanceId=o};f.ManualShow=function(e,t,n){var o=document.getElementById(e);if(!o)throw new Error("No context menu with id '"+e+"' was found");r(o,e,null),d(o,e,t,n,null,null)},f.OnContextMenu=function(e,t,n){var o=document.getElementById(t);if(!o)throw new Error("No context menu with id '"+t+"' was found");r(o,t,e.target);var i=JSON.parse(e.currentTarget.dataset.dotnetref);return d(o,t,e.x,e.y,e.target,i),e.preventDefault(),n&&e.stopPropagation(),!1};var d=function(e,t,n,o,i,r){return f.Show(t,n,o,i,r).then(function(){0<e.offsetLeft+e.clientWidth-window.innerWidth&&(e.style.left=e.offsetLeft-e.clientWidth+"px"),0<e.offsetTop+e.clientHeight-window.innerHeight&&(e.style.top=e.offsetTop-e.clientHeight+"px")})};f.Init=function(){function t(e,t){if(0<m.length)for(var n=0;n<m.length;n++){var o=m[n],i=document.getElementById(o.id);if(i&&"true"==i.dataset.autohide&&i.dataset.autohideevent==t)i.contains(e.target)||f.Hide(o.id)}}document.addEventListener("mouseup",function(e){t(e,"mouseup")}),document.addEventListener("mousedown",function(e){t(e,"mousedown")}),window.addEventListener("resize",function(){if(0<m.length)for(var e=0;e<m.length;e++){var t=m[e],n=document.getElementById(t.id);n&&"true"==n.dataset.autohide&&f.Hide(t.id)}},!0)},f.Show=function(e,t,n,o,i){var r=null;return o&&(o.id||(o.id=a()),r=o.id),u.invokeMethodAsync("ShowMenu",e,t.toString(),n.toString(),r,i)},f.Hide=function(e){var n=document.getElementById(e),o=n.dataset.instanceId;return u.invokeMethodAsync("HideMenu",e).then(function(e){if(n.classList.contains("blazor-context-menu")&&e){var t=m.find(function(e){return e.instanceId==o});t&&function(e,t){for(var n=0;n<e.length;n++)e[n]===t&&e.splice(n,1)}(m,t)}})};var g=null;return f.OnMenuItemMouseOver=function(e,d,l){if(h(e.target,".blazor-context-menu__wrapper")==h(l,".blazor-context-menu__wrapper")&&"true"==l.getAttribute("itemEnabled")){var c,s=(c=null,function e(t,n,o){for(var i=0;i<t.childNodes.length&&!o;i++){for(var r=t.childNodes[i],a=null!=r.className&&"string"==typeof r.className?r.className.split(" "):[],u=0,d=a.length;u<d;u++)if(a[u]==n){o=!0,c=t.childNodes[i];break}if(o)break;e(t.childNodes[i],n,o)}}(l,"blazor-context-submenu",!1),c);s&&(g=setTimeout(function(){g=null;var o=h(l,".blazor-context-menu__wrapper"),u=o.children[0],e=h(l,".blazor-context-menu"),t=l.getBoundingClientRect(),n=t.left+o.clientWidth-d,i=t.top,r=e.dataset.instanceId,a=m.find(function(e){return e.instanceId==r});f.Show(s.id,n,i,a.target).then(function(){0<s.offsetLeft+s.clientWidth-window.innerWidth&&(s.style.left=s.offsetLeft-s.clientWidth-o.clientWidth-d+"px");var e=s.offsetTop+s.clientHeight-window.innerHeight;0<e&&(s.style.top=s.offsetTop-e+"px");for(var a=function(){for(var e,t,d,n=(e=l,t="blazor-context-submenu",d=new Array,function e(t,n){for(var o=0;o<t.childNodes.length;o++){for(var i=t.childNodes[o],r=null!=i.className&&"string"==typeof i.className?i.className.split(" "):[],a=0,u=r.length;a<u;a++)r[a]==n&&d.push(t.childNodes[o]);e(t.childNodes[o],n)}}(e,t),d),o=n.length;o--;){var i=n[o];f.Hide(i.id)}for(o=u.childNodes.length;o--;){var r=u.childNodes[o];r!=l&&r.removeEventListener("mouseover",a)}},t=u.childNodes.length;t--;){var n=u.childNodes[t];n!=l&&n.addEventListener("mouseover",a)}})},200))}},f.OnMenuItemMouseOut=function(e){g&&clearTimeout(g)},f.RegisterTriggerReference=function(e,t){e&&(e.dataset.dotnetref=JSON.stringify(t.serializeAsArg()))},f}({});blazorContextMenu.Init();